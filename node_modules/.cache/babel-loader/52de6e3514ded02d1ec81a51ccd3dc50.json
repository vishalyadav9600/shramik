{"ast":null,"code":"import * as axios from 'axios';\nimport getCookie from './getCookie.js';\n\nclass Api {\n  constructor() {\n    this.init = () => {\n      this.api_token = getCookie(window.store.getState().authReducer.token);\n      let headers = {\n        Accept: 'application/json'\n      };\n\n      if (this.api_token) {\n        headers.Authorization = `Bearer ${this.api_token}`;\n      }\n\n      this.client = axios.create({\n        baseURL: this.api_url,\n        timeout: 31000,\n        headers: headers\n      });\n      return this.client;\n    };\n\n    this.getUserList = params => {\n      return this.init().get('/users', {\n        params: params\n      });\n    };\n\n    this.addNewUser = data => {\n      return this.init().post('/users', data);\n    };\n\n    this.signIn = data => {\n      return this.init().post('/signin', data);\n    };\n\n    this.signUp = data => {\n      return this.init().post('/signup', data);\n    };\n\n    this.update = data => {\n      return this.init().post('/updateuser', data);\n    };\n\n    this.updatepassword = data => {\n      return this.init().post('/updatepassword', data);\n    };\n\n    this.fetchmeals = () => {\n      return this.init().get('/products');\n    };\n\n    this.addorder = data => {\n      return this.init().post('/orders', data);\n    };\n\n    this.getuserorders = () => {\n      return this.init().get('/orders/myorders');\n    };\n\n    this.api_token = null;\n    this.client = null; // this.api_url = 'http://localhost:5000';\n\n    this.api_url = process.env.REACT_APP_API_ENDPOINT;\n  }\n\n}\n\nexport default new Api();","map":{"version":3,"sources":["D:/Study/SEM_07/Final Year Project/Project/shramik/src/helpers/api.js"],"names":["axios","getCookie","Api","constructor","init","api_token","window","store","getState","authReducer","token","headers","Accept","Authorization","client","create","baseURL","api_url","timeout","getUserList","params","get","addNewUser","data","post","signIn","signUp","update","updatepassword","fetchmeals","addorder","getuserorders","process","env","REACT_APP_API_ENDPOINT"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;AAEA,MAAMC,GAAN,CAAU;AACRC,EAAAA,WAAW,GAAG;AAAA,SAOdC,IAPc,GAOP,MAAM;AACX,WAAKC,SAAL,GAAiBJ,SAAS,CAACK,MAAM,CAACC,KAAP,CAAaC,QAAb,GAAwBC,WAAxB,CAAoCC,KAArC,CAA1B;AAEA,UAAIC,OAAO,GAAG;AACZC,QAAAA,MAAM,EAAE;AADI,OAAd;;AAIA,UAAI,KAAKP,SAAT,EAAoB;AAClBM,QAAAA,OAAO,CAACE,aAAR,GAAyB,UAAS,KAAKR,SAAU,EAAjD;AACD;;AAED,WAAKS,MAAL,GAAcd,KAAK,CAACe,MAAN,CAAa;AACzBC,QAAAA,OAAO,EAAE,KAAKC,OADW;AAEzBC,QAAAA,OAAO,EAAE,KAFgB;AAGzBP,QAAAA,OAAO,EAAEA;AAHgB,OAAb,CAAd;AAMA,aAAO,KAAKG,MAAZ;AACD,KAzBa;;AAAA,SA4BdK,WA5Bc,GA4BCC,MAAD,IAAY;AACxB,aAAO,KAAKhB,IAAL,GAAYiB,GAAZ,CAAgB,QAAhB,EAA0B;AAAED,QAAAA,MAAM,EAAEA;AAAV,OAA1B,CAAP;AACD,KA9Ba;;AAAA,SAiCdE,UAjCc,GAiCAC,IAAD,IAAU;AACrB,aAAO,KAAKnB,IAAL,GAAYoB,IAAZ,CAAiB,QAAjB,EAA2BD,IAA3B,CAAP;AACD,KAnCa;;AAAA,SAqCdE,MArCc,GAqCJF,IAAD,IAAU;AACjB,aAAO,KAAKnB,IAAL,GAAYoB,IAAZ,CAAiB,SAAjB,EAA4BD,IAA5B,CAAP;AACD,KAvCa;;AAAA,SAyCdG,MAzCc,GAyCJH,IAAD,IAAU;AACjB,aAAO,KAAKnB,IAAL,GAAYoB,IAAZ,CAAiB,SAAjB,EAA4BD,IAA5B,CAAP;AACD,KA3Ca;;AAAA,SA6CdI,MA7Cc,GA6CJJ,IAAD,IAAU;AACjB,aAAO,KAAKnB,IAAL,GAAYoB,IAAZ,CAAiB,aAAjB,EAAgCD,IAAhC,CAAP;AACD,KA/Ca;;AAAA,SAiDdK,cAjDc,GAiDIL,IAAD,IAAU;AACzB,aAAO,KAAKnB,IAAL,GAAYoB,IAAZ,CAAiB,iBAAjB,EAAoCD,IAApC,CAAP;AACD,KAnDa;;AAAA,SAqDdM,UArDc,GAqDD,MAAM;AACjB,aAAO,KAAKzB,IAAL,GAAYiB,GAAZ,CAAgB,WAAhB,CAAP;AACD,KAvDa;;AAAA,SAyDdS,QAzDc,GAyDFP,IAAD,IAAU;AACnB,aAAO,KAAKnB,IAAL,GAAYoB,IAAZ,CAAiB,SAAjB,EAA4BD,IAA5B,CAAP;AACD,KA3Da;;AAAA,SA6DdQ,aA7Dc,GA6DE,MAAM;AACpB,aAAO,KAAK3B,IAAL,GAAYiB,GAAZ,CAAgB,kBAAhB,CAAP;AACD,KA/Da;;AACZ,SAAKhB,SAAL,GAAiB,IAAjB;AACA,SAAKS,MAAL,GAAc,IAAd,CAFY,CAGZ;;AACA,SAAKG,OAAL,GAAee,OAAO,CAACC,GAAR,CAAYC,sBAA3B;AACD;;AANO;;AAmEV,eAAe,IAAIhC,GAAJ,EAAf","sourcesContent":["import * as axios from 'axios';\r\nimport getCookie from './getCookie.js';\r\n\r\nclass Api {\r\n  constructor() {\r\n    this.api_token = null;\r\n    this.client = null;\r\n    // this.api_url = 'http://localhost:5000';\r\n    this.api_url = process.env.REACT_APP_API_ENDPOINT;\r\n  }\r\n\r\n  init = () => {\r\n    this.api_token = getCookie(window.store.getState().authReducer.token);\r\n\r\n    let headers = {\r\n      Accept: 'application/json',\r\n    };\r\n\r\n    if (this.api_token) {\r\n      headers.Authorization = `Bearer ${this.api_token}`;\r\n    }\r\n\r\n    this.client = axios.create({\r\n      baseURL: this.api_url,\r\n      timeout: 31000,\r\n      headers: headers,\r\n    });\r\n\r\n    return this.client;\r\n  };\r\n\r\n  //get users list\r\n  getUserList = (params) => {\r\n    return this.init().get('/users', { params: params });\r\n  };\r\n\r\n  //add new user\r\n  addNewUser = (data) => {\r\n    return this.init().post('/users', data);\r\n  };\r\n  //user sign In\r\n  signIn = (data) => {\r\n    return this.init().post('/signin', data);\r\n  };\r\n  //user sign In\r\n  signUp = (data) => {\r\n    return this.init().post('/signup', data);\r\n  };\r\n  //user update\r\n  update = (data) => {\r\n    return this.init().post('/updateuser', data);\r\n  };\r\n  //user password\r\n  updatepassword = (data) => {\r\n    return this.init().post('/updatepassword', data);\r\n  };\r\n  // fetch all meals\r\n  fetchmeals = () => {\r\n    return this.init().get('/products');\r\n  };\r\n  // add order\r\n  addorder = (data) => {\r\n    return this.init().post('/orders', data);\r\n  };\r\n  // get user orders\r\n  getuserorders = () => {\r\n    return this.init().get('/orders/myorders');\r\n  };\r\n}\r\n\r\nexport default new Api();\r\n"]},"metadata":{},"sourceType":"module"}