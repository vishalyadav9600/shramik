{"ast":null,"code":"import * as actionType from '../actionTypes/authActionsTypes';\nimport { REHYDRATE } from 'redux-persist';\nimport getCookie from '../../helpers/getCookie.js';\nconst initialState = {\n  loading: false,\n  user: null,\n  error: '',\n  token: '',\n  authenticated: false,\n  updated: false\n};\nexport default function authReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  if (action.type === REHYDRATE) {\n    var _action$payload;\n    const cookie = getCookie((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.authReducer.token);\n    if (!cookie) {\n      return {\n        ...initialState\n      };\n    }\n    return {\n      ...action.payload.authReducer\n    };\n  } else if (action.type === actionType.LOGIN_BEGIN) {\n    return {\n      ...state,\n      loading: true\n    };\n  } else if (action.type === actionType.ON_LOGIN_ERROR) {\n    return {\n      ...state,\n      error: action.payload.error,\n      loading: false\n    };\n  } else if (action.type === actionType.ON_LOGIN_SUCCESS) {\n    return {\n      ...state,\n      loading: false,\n      user: action.payload.user,\n      authenticated: true,\n      token: action.payload.token\n    };\n  } else if (action.type === actionType.SESSION_EXPIRED) {\n    return {\n      ...initialState\n    };\n  } else if (action.type === actionType.SIGN_OUT) {\n    return {\n      ...initialState\n    };\n  } else if (action.type === actionType.USER_UPDATE) {\n    return {\n      ...state,\n      loading: false,\n      user: action.payload.user,\n      authenticated: true,\n      token: action.payload.token,\n      updated: true\n    };\n  } else if (action.type === actionType.ON_UPDATE_SUCCESS) {\n    return {\n      ...state,\n      updated: false\n    };\n  } else if (action.type === actionType.ON_UPDATE_ERROR) {\n    return {\n      ...state,\n      error: action.payload.error\n    };\n  } else {\n    return state;\n  }\n}","map":{"version":3,"names":["actionType","REHYDRATE","getCookie","initialState","loading","user","error","token","authenticated","updated","authReducer","state","arguments","length","undefined","action","type","_action$payload","cookie","payload","LOGIN_BEGIN","ON_LOGIN_ERROR","ON_LOGIN_SUCCESS","SESSION_EXPIRED","SIGN_OUT","USER_UPDATE","ON_UPDATE_SUCCESS","ON_UPDATE_ERROR"],"sources":["/Users/vishalyadav/Desktop/Shramik/shramik-main/src/store/reducers/authReducer.js"],"sourcesContent":["import * as actionType from '../actionTypes/authActionsTypes';\nimport { REHYDRATE } from 'redux-persist';\nimport getCookie from '../../helpers/getCookie.js';\n\nconst initialState = {\n  loading: false,\n  user: null,\n  error: '',\n  token: '',\n  authenticated: false,\n  updated: false,\n};\n\nexport default function authReducer(state = initialState, action) {\n  if (action.type === REHYDRATE) {\n    const cookie = getCookie(action.payload?.authReducer.token);\n    if (!cookie) {\n      return { ...initialState };\n    }\n    return { ...action.payload.authReducer };\n  } else if (action.type === actionType.LOGIN_BEGIN) {\n    return { ...state, loading: true };\n  } else if (action.type === actionType.ON_LOGIN_ERROR) {\n    return { ...state, error: action.payload.error, loading: false };\n  } else if (action.type === actionType.ON_LOGIN_SUCCESS) {\n    return {\n      ...state,\n      loading: false,\n      user: action.payload.user,\n      authenticated: true,\n      token: action.payload.token,\n    };\n  } else if (action.type === actionType.SESSION_EXPIRED) {\n    return { ...initialState };\n  } else if (action.type === actionType.SIGN_OUT) {\n    return { ...initialState };\n  } else if (action.type === actionType.USER_UPDATE) {\n    return {\n      ...state,\n      loading: false,\n      user: action.payload.user,\n      authenticated: true,\n      token: action.payload.token,\n      updated: true,\n    };\n  } else if (action.type === actionType.ON_UPDATE_SUCCESS) {\n    return { ...state, updated: false };\n  } else if (action.type === actionType.ON_UPDATE_ERROR) {\n    return { ...state, error: action.payload.error };\n  } else {\n    return state;\n  }\n}\n"],"mappings":"AAAA,OAAO,KAAKA,UAAU,MAAM,iCAAiC;AAC7D,SAASC,SAAS,QAAQ,eAAe;AACzC,OAAOC,SAAS,MAAM,4BAA4B;AAElD,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE,IAAI;EACVC,KAAK,EAAE,EAAE;EACTC,KAAK,EAAE,EAAE;EACTC,aAAa,EAAE,KAAK;EACpBC,OAAO,EAAE;AACX,CAAC;AAED,eAAe,SAASC,WAAWA,CAAA,EAA+B;EAAA,IAA9BC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGT,YAAY;EAAA,IAAEY,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC9D,IAAIC,MAAM,CAACC,IAAI,KAAKf,SAAS,EAAE;IAAA,IAAAgB,eAAA;IAC7B,MAAMC,MAAM,GAAGhB,SAAS,EAAAe,eAAA,GAACF,MAAM,CAACI,OAAO,cAAAF,eAAA,uBAAdA,eAAA,CAAgBP,WAAW,CAACH,KAAK,CAAC;IAC3D,IAAI,CAACW,MAAM,EAAE;MACX,OAAO;QAAE,GAAGf;MAAa,CAAC;IAC5B;IACA,OAAO;MAAE,GAAGY,MAAM,CAACI,OAAO,CAACT;IAAY,CAAC;EAC1C,CAAC,MAAM,IAAIK,MAAM,CAACC,IAAI,KAAKhB,UAAU,CAACoB,WAAW,EAAE;IACjD,OAAO;MAAE,GAAGT,KAAK;MAAEP,OAAO,EAAE;IAAK,CAAC;EACpC,CAAC,MAAM,IAAIW,MAAM,CAACC,IAAI,KAAKhB,UAAU,CAACqB,cAAc,EAAE;IACpD,OAAO;MAAE,GAAGV,KAAK;MAAEL,KAAK,EAAES,MAAM,CAACI,OAAO,CAACb,KAAK;MAAEF,OAAO,EAAE;IAAM,CAAC;EAClE,CAAC,MAAM,IAAIW,MAAM,CAACC,IAAI,KAAKhB,UAAU,CAACsB,gBAAgB,EAAE;IACtD,OAAO;MACL,GAAGX,KAAK;MACRP,OAAO,EAAE,KAAK;MACdC,IAAI,EAAEU,MAAM,CAACI,OAAO,CAACd,IAAI;MACzBG,aAAa,EAAE,IAAI;MACnBD,KAAK,EAAEQ,MAAM,CAACI,OAAO,CAACZ;IACxB,CAAC;EACH,CAAC,MAAM,IAAIQ,MAAM,CAACC,IAAI,KAAKhB,UAAU,CAACuB,eAAe,EAAE;IACrD,OAAO;MAAE,GAAGpB;IAAa,CAAC;EAC5B,CAAC,MAAM,IAAIY,MAAM,CAACC,IAAI,KAAKhB,UAAU,CAACwB,QAAQ,EAAE;IAC9C,OAAO;MAAE,GAAGrB;IAAa,CAAC;EAC5B,CAAC,MAAM,IAAIY,MAAM,CAACC,IAAI,KAAKhB,UAAU,CAACyB,WAAW,EAAE;IACjD,OAAO;MACL,GAAGd,KAAK;MACRP,OAAO,EAAE,KAAK;MACdC,IAAI,EAAEU,MAAM,CAACI,OAAO,CAACd,IAAI;MACzBG,aAAa,EAAE,IAAI;MACnBD,KAAK,EAAEQ,MAAM,CAACI,OAAO,CAACZ,KAAK;MAC3BE,OAAO,EAAE;IACX,CAAC;EACH,CAAC,MAAM,IAAIM,MAAM,CAACC,IAAI,KAAKhB,UAAU,CAAC0B,iBAAiB,EAAE;IACvD,OAAO;MAAE,GAAGf,KAAK;MAAEF,OAAO,EAAE;IAAM,CAAC;EACrC,CAAC,MAAM,IAAIM,MAAM,CAACC,IAAI,KAAKhB,UAAU,CAAC2B,eAAe,EAAE;IACrD,OAAO;MAAE,GAAGhB,KAAK;MAAEL,KAAK,EAAES,MAAM,CAACI,OAAO,CAACb;IAAM,CAAC;EAClD,CAAC,MAAM;IACL,OAAOK,KAAK;EACd;AACF"},"metadata":{},"sourceType":"module"}