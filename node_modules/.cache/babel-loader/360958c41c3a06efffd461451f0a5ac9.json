{"ast":null,"code":"import * as actionType from '../actionTypes/authActionsTypes';\nimport api from '../../helpers/api.js';\nexport const login = user => {\n  return async dispatch => {\n    dispatch({\n      type: actionType.LOGIN_BEGIN\n    });\n    await api.signIn({\n      email: user.loginEmail,\n      password: user.loginPassword\n    }).then(res => {\n      dispatch({\n        type: actionType.ON_LOGIN_SUCCESS,\n        payload: {\n          ...res.data\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: actionType.ON_LOGIN_ERROR,\n        payload: {\n          error: error.response.data.error\n        }\n      });\n    });\n  };\n};\nexport const signup = user => {\n  return async dispatch => {\n    dispatch({\n      type: actionType.LOGIN_BEGIN\n    });\n    await api.signUp({\n      ...user\n    }).then(res => {\n      dispatch({\n        type: actionType.ON_LOGIN_SUCCESS,\n        payload: {\n          ...res.data\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: actionType.ON_LOGIN_ERROR,\n        payload: {\n          error: error.response.data.error\n        }\n      });\n    });\n  };\n};\nexport const updateUser = user => {\n  return async dispatch => {\n    await api.update({\n      ...user\n    }).then(res => {\n      dispatch({\n        type: actionType.USER_UPDATE,\n        payload: {\n          ...res.data\n        }\n      });\n    }).catch(error => {\n      var _error$response;\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        dispatch({\n          type: 'SIGN_OUT',\n          payload: {\n            error: 'session expired'\n          }\n        });\n      } else {\n        dispatch({\n          type: actionType.ON_UPDATE_ERROR,\n          payload: {\n            error: error.response.data.error\n          }\n        });\n      }\n    });\n  };\n};\nexport const updatePassword = user => {\n  return async dispatch => {\n    await api.updatepassword({\n      ...user\n    }).then(res => {\n      dispatch({\n        type: actionType.USER_UPDATE,\n        payload: {\n          ...res.data\n        }\n      });\n    }).catch(error => {\n      var _error$response2;\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n        dispatch({\n          type: 'SIGN_OUT',\n          payload: {\n            error: 'session expired'\n          }\n        });\n      } else {\n        dispatch({\n          type: actionType.ON_UPDATE_ERROR,\n          payload: {\n            error: error.response.data.error\n          }\n        });\n      }\n    });\n  };\n};","map":{"version":3,"names":["actionType","api","login","user","dispatch","type","LOGIN_BEGIN","signIn","email","loginEmail","password","loginPassword","then","res","ON_LOGIN_SUCCESS","payload","data","catch","error","ON_LOGIN_ERROR","response","signup","signUp","updateUser","update","USER_UPDATE","_error$response","status","ON_UPDATE_ERROR","updatePassword","updatepassword","_error$response2"],"sources":["/Users/vishalyadav/Desktop/Shramik/shramik-main/src/store/actions/authActions.js"],"sourcesContent":["import * as actionType from '../actionTypes/authActionsTypes';\nimport api from '../../helpers/api.js';\n\nexport const login = (user) => {\n  return async (dispatch) => {\n    dispatch({ type: actionType.LOGIN_BEGIN });\n\n    await api\n      .signIn({ email: user.loginEmail, password: user.loginPassword })\n      .then((res) => {\n        dispatch({\n          type: actionType.ON_LOGIN_SUCCESS,\n          payload: {\n            ...res.data,\n          },\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: actionType.ON_LOGIN_ERROR,\n          payload: {\n            error: error.response.data.error,\n          },\n        });\n      });\n  };\n};\n\nexport const signup = (user) => {\n  return async (dispatch) => {\n    dispatch({ type: actionType.LOGIN_BEGIN });\n\n    await api\n      .signUp({ ...user })\n      .then((res) => {\n        dispatch({\n          type: actionType.ON_LOGIN_SUCCESS,\n          payload: {\n            ...res.data,\n          },\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: actionType.ON_LOGIN_ERROR,\n          payload: {\n            error: error.response.data.error,\n          },\n        });\n      });\n  };\n};\nexport const updateUser = (user) => {\n  return async (dispatch) => {\n    await api\n      .update({ ...user })\n      .then((res) => {\n        dispatch({\n          type: actionType.USER_UPDATE,\n          payload: {\n            ...res.data,\n          },\n        });\n      })\n      .catch((error) => {\n        if (error.response?.status === 401) {\n          dispatch({\n            type: 'SIGN_OUT',\n            payload: {\n              error: 'session expired',\n            },\n          });\n        } else {\n          dispatch({\n            type: actionType.ON_UPDATE_ERROR,\n            payload: {\n              error: error.response.data.error,\n            },\n          });\n        }\n      });\n  };\n};\nexport const updatePassword = (user) => {\n  return async (dispatch) => {\n    await api\n      .updatepassword({ ...user })\n      .then((res) => {\n        dispatch({\n          type: actionType.USER_UPDATE,\n          payload: {\n            ...res.data,\n          },\n        });\n      })\n      .catch((error) => {\n        if (error.response?.status === 401) {\n          dispatch({\n            type: 'SIGN_OUT',\n            payload: {\n              error: 'session expired',\n            },\n          });\n        } else {\n          dispatch({\n            type: actionType.ON_UPDATE_ERROR,\n            payload: {\n              error: error.response.data.error,\n            },\n          });\n        }\n      });\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}