{"ast":null,"code":"import * as axios from 'axios';\nimport getCookie from './getCookie.js';\nclass Api {\n  constructor() {\n    this.init = () => {\n      this.api_token = getCookie(window.store.getState().authReducer.token);\n      let headers = {\n        Accept: 'application/json'\n      };\n      if (this.api_token) {\n        headers.Authorization = `Bearer ${this.api_token}`;\n      }\n      this.client = axios.create({\n        baseURL: this.api_url,\n        timeout: 31000,\n        headers: headers\n      });\n      return this.client;\n    };\n    this.getUserList = params => {\n      return this.init().get('/users', {\n        params: params\n      });\n    };\n    this.addNewUser = data => {\n      return this.init().post('/users', data);\n    };\n    this.signIn = data => {\n      return this.init().post('/signin', data);\n    };\n    this.signUp = data => {\n      return this.init().post('/signup', data);\n    };\n    this.update = data => {\n      return this.init().post('/updateuser', data);\n    };\n    this.updatepassword = data => {\n      return this.init().post('/updatepassword', data);\n    };\n    this.fetchmeals = () => {\n      return this.init().get('/products');\n    };\n    this.addorder = data => {\n      return this.init().post('/orders', data);\n    };\n    this.getuserorders = () => {\n      return this.init().get('/orders/myorders');\n    };\n    this.api_token = null;\n    this.client = null;\n    // this.api_url = 'http://localhost:5000';\n    this.api_url = process.env.REACT_APP_API_ENDPOINT;\n  }\n\n  //get users list\n\n  //add new user\n\n  //user sign In\n\n  //user sign In\n\n  //user update\n\n  //user password\n\n  // fetch all meals\n\n  // add order\n\n  // get user orders\n}\n\nexport default new Api();","map":{"version":3,"names":["axios","getCookie","Api","constructor","init","api_token","window","store","getState","authReducer","token","headers","Accept","Authorization","client","create","baseURL","api_url","timeout","getUserList","params","get","addNewUser","data","post","signIn","signUp","update","updatepassword","fetchmeals","addorder","getuserorders","process","env","REACT_APP_API_ENDPOINT"],"sources":["D:/Study/SEM_07/Final Year Project/Project/ShramikFrontend/shramik/src/helpers/api.js"],"sourcesContent":["import * as axios from 'axios';\r\nimport getCookie from './getCookie.js';\r\n\r\nclass Api {\r\n  constructor() {\r\n    this.api_token = null;\r\n    this.client = null;\r\n    // this.api_url = 'http://localhost:5000';\r\n    this.api_url = process.env.REACT_APP_API_ENDPOINT;\r\n  }\r\n\r\n  init = () => {\r\n    this.api_token = getCookie(window.store.getState().authReducer.token);\r\n\r\n    let headers = {\r\n      Accept: 'application/json',\r\n    };\r\n\r\n    if (this.api_token) {\r\n      headers.Authorization = `Bearer ${this.api_token}`;\r\n    }\r\n\r\n    this.client = axios.create({\r\n      baseURL: this.api_url,\r\n      timeout: 31000,\r\n      headers: headers,\r\n    });\r\n\r\n    return this.client;\r\n  };\r\n\r\n  //get users list\r\n  getUserList = (params) => {\r\n    return this.init().get('/users', { params: params });\r\n  };\r\n\r\n  //add new user\r\n  addNewUser = (data) => {\r\n    return this.init().post('/users', data);\r\n  };\r\n  //user sign In\r\n  signIn = (data) => {\r\n    return this.init().post('/signin', data);\r\n  };\r\n  //user sign In\r\n  signUp = (data) => {\r\n    return this.init().post('/signup', data);\r\n  };\r\n  //user update\r\n  update = (data) => {\r\n    return this.init().post('/updateuser', data);\r\n  };\r\n  //user password\r\n  updatepassword = (data) => {\r\n    return this.init().post('/updatepassword', data);\r\n  };\r\n  // fetch all meals\r\n  fetchmeals = () => {\r\n    return this.init().get('/products');\r\n  };\r\n  // add order\r\n  addorder = (data) => {\r\n    return this.init().post('/orders', data);\r\n  };\r\n  // get user orders\r\n  getuserorders = () => {\r\n    return this.init().get('/orders/myorders');\r\n  };\r\n}\r\n\r\nexport default new Api();\r\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,SAAS,MAAM,gBAAgB;AAEtC,MAAMC,GAAG,CAAC;EACRC,WAAWA,CAAA,EAAG;IAAA,KAOdC,IAAI,GAAG,MAAM;MACX,IAAI,CAACC,SAAS,GAAGJ,SAAS,CAACK,MAAM,CAACC,KAAK,CAACC,QAAQ,EAAE,CAACC,WAAW,CAACC,KAAK,CAAC;MAErE,IAAIC,OAAO,GAAG;QACZC,MAAM,EAAE;MACV,CAAC;MAED,IAAI,IAAI,CAACP,SAAS,EAAE;QAClBM,OAAO,CAACE,aAAa,GAAI,UAAS,IAAI,CAACR,SAAU,EAAC;MACpD;MAEA,IAAI,CAACS,MAAM,GAAGd,KAAK,CAACe,MAAM,CAAC;QACzBC,OAAO,EAAE,IAAI,CAACC,OAAO;QACrBC,OAAO,EAAE,KAAK;QACdP,OAAO,EAAEA;MACX,CAAC,CAAC;MAEF,OAAO,IAAI,CAACG,MAAM;IACpB,CAAC;IAAA,KAGDK,WAAW,GAAIC,MAAM,IAAK;MACxB,OAAO,IAAI,CAAChB,IAAI,EAAE,CAACiB,GAAG,CAAC,QAAQ,EAAE;QAAED,MAAM,EAAEA;MAAO,CAAC,CAAC;IACtD,CAAC;IAAA,KAGDE,UAAU,GAAIC,IAAI,IAAK;MACrB,OAAO,IAAI,CAACnB,IAAI,EAAE,CAACoB,IAAI,CAAC,QAAQ,EAAED,IAAI,CAAC;IACzC,CAAC;IAAA,KAEDE,MAAM,GAAIF,IAAI,IAAK;MACjB,OAAO,IAAI,CAACnB,IAAI,EAAE,CAACoB,IAAI,CAAC,SAAS,EAAED,IAAI,CAAC;IAC1C,CAAC;IAAA,KAEDG,MAAM,GAAIH,IAAI,IAAK;MACjB,OAAO,IAAI,CAACnB,IAAI,EAAE,CAACoB,IAAI,CAAC,SAAS,EAAED,IAAI,CAAC;IAC1C,CAAC;IAAA,KAEDI,MAAM,GAAIJ,IAAI,IAAK;MACjB,OAAO,IAAI,CAACnB,IAAI,EAAE,CAACoB,IAAI,CAAC,aAAa,EAAED,IAAI,CAAC;IAC9C,CAAC;IAAA,KAEDK,cAAc,GAAIL,IAAI,IAAK;MACzB,OAAO,IAAI,CAACnB,IAAI,EAAE,CAACoB,IAAI,CAAC,iBAAiB,EAAED,IAAI,CAAC;IAClD,CAAC;IAAA,KAEDM,UAAU,GAAG,MAAM;MACjB,OAAO,IAAI,CAACzB,IAAI,EAAE,CAACiB,GAAG,CAAC,WAAW,CAAC;IACrC,CAAC;IAAA,KAEDS,QAAQ,GAAIP,IAAI,IAAK;MACnB,OAAO,IAAI,CAACnB,IAAI,EAAE,CAACoB,IAAI,CAAC,SAAS,EAAED,IAAI,CAAC;IAC1C,CAAC;IAAA,KAEDQ,aAAa,GAAG,MAAM;MACpB,OAAO,IAAI,CAAC3B,IAAI,EAAE,CAACiB,GAAG,CAAC,kBAAkB,CAAC;IAC5C,CAAC;IA9DC,IAAI,CAAChB,SAAS,GAAG,IAAI;IACrB,IAAI,CAACS,MAAM,GAAG,IAAI;IAClB;IACA,IAAI,CAACG,OAAO,GAAGe,OAAO,CAACC,GAAG,CAACC,sBAAsB;EACnD;;EAsBA;;EAKA;;EAIA;;EAIA;;EAIA;;EAIA;;EAIA;;EAIA;;EAIA;AAIF;;AAEA,eAAe,IAAIhC,GAAG,EAAE"},"metadata":{},"sourceType":"module"}