{"ast":null,"code":"var _jsxFileName = \"D:\\\\Study\\\\SEM_07\\\\Final Year Project\\\\Project\\\\shramik\\\\src\\\\pages\\\\Checkout.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { usePaystackPayment } from 'react-paystack';\nimport { makeStyles, Stepper, StepLabel, Step, Button, Typography, Grid, Box, createTheme, ThemeProvider, CircularProgress } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport { BsArrowLeft } from 'react-icons/bs';\nimport * as Yup from 'yup';\nimport Textfield from '../components/partials/FormUI/Textfield';\nimport SelectWrapper from '../components/partials/FormUI/SelectWrapper';\nimport stateData from '../utils/stateData.json';\nimport RadioWrapper from '../components/partials/FormUI/RadioWrapper';\nimport Paymentmethod from '../components/partials/FormUI/Paymentmethod';\nimport Cartcheckout from '../components/reusables/Cartcheckout';\nimport { processOrder } from '../store/actions/orderActions';\nimport Snackbar from '../components/reusables/Snackbar';\nimport NotFound from './NotFound';\nimport use_avatar from '../utils/use_avatar.json';\nimport getCookie from '../helpers/getCookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet values = null; //material ui style\n\nconst useStyles = makeStyles(theme => ({\n  checkout: {\n    width: '100%',\n    display: 'flex',\n    paddingTop: '35px',\n    '@media (max-width: 600px)': {\n      flexDirection: 'column'\n    }\n  },\n  button: {\n    marginRight: theme.spacing(1)\n  },\n  checkout_left: {\n    flex: '0.7',\n    paddingLeft: '120px',\n    '@media (max-width: 900px)': {\n      padding: '0 10px'\n    }\n  },\n  checkout_right: {\n    flex: '0.3'\n  },\n  customer_info: {\n    fontWeight: '600',\n    fontSize: '1.2rem',\n    fontFamily: 'mulish',\n    marginBottom: '20px'\n  },\n  shopping_cart_heading: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    paddingRight: '50px',\n    paddingLeft: '25px',\n    marginBottom: '15px',\n    marginTop: '20px',\n    '& > :nth-child(1)': {\n      fontWeight: '600',\n      fontSize: '1.2rem',\n      fontFamily: 'mulish'\n    },\n    '& > :nth-child(2)': {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '24px',\n      width: '24px',\n      borderRadius: '50%',\n      background: '#0077E2',\n      color: 'white'\n    }\n  },\n  adress_box_details: {\n    fontSize: '0.9rem',\n    marginTop: '3px'\n  },\n  backsection: {\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    '& :nth-child(1)': {\n      fontSize: '1rem'\n    },\n    '& :nth-child(2)': {\n      fontSize: '.9rem',\n      marginLeft: '10px'\n    }\n  },\n  controls: {\n    marginTop: '60px',\n    marginBottom: '30px',\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  edit_address: {\n    cursor: 'pointer',\n    fontSize: '0.9rem',\n    fontWeight: '600'\n  },\n  submitbutton_section: {\n    margin: '40px 0',\n    padding: '0 25px',\n    '& :nth-child(1)': {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    '& > :nth-child(2)': {\n      height: '1px',\n      margin: '10px 0'\n    },\n    '& :nth-child(3)': {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    }\n  },\n  Sub_total: {\n    color: theme.palette.lightdark3,\n    fontSize: '.9rem'\n  },\n  Sub_total_value: {\n    color: theme.palette.lightdark3,\n    fontSize: '.9rem'\n  },\n  amount_payable: {\n    fontSize: '.9rem',\n    fontWeight: '600'\n  },\n  amount_payable_value: {\n    fontSize: '.9rem',\n    fontWeight: '600'\n  },\n  note: {\n    fontSize: '0.9rem',\n    marginTop: '10px'\n  }\n})); //To control shipping go back button\n\nlet goBack; //show Customer Details\n\nlet customer_details;\nconst muiTheme = createTheme({\n  overrides: {\n    MuiStepIcon: {\n      root: {\n        '&$completed': {\n          color: '#0077E2'\n        },\n        '&$active': {\n          color: '#0077E2'\n        }\n      }\n    }\n  }\n});\n\nconst sleep = time => new Promise(acc => setTimeout(acc, time));\n\nexport default function Checkout() {\n  _s();\n\n  const {\n    edit_address,\n    checkout,\n    checkout_left,\n    checkout_right,\n    shopping_cart_heading,\n    customer_info,\n    adress_box_details,\n    submitbutton_section,\n    Sub_total,\n    Sub_total_value,\n    amount_payable,\n    amount_payable_value,\n    note\n  } = useStyles();\n  const {\n    products,\n    totalQuantities,\n    totalPrice\n  } = useSelector(state => state.cartReducer);\n  const {\n    user,\n    authenticated,\n    token\n  } = useSelector(state => state.authReducer);\n  const [alertContent, setAlertContent] = React.useState({\n    type: 'error',\n    content: ''\n  });\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  }; //reorder cart peoduct arrays\n\n\n  const reorderProduct = products => {\n    let newH = [];\n    products.map(item => {\n      newH.push({\n        title: item.title,\n        quantity: item.quantity,\n        image_path: item.image_path,\n        totalPrice: item.totalPrice,\n        product: item._id,\n        category: item.category\n      });\n    });\n    return newH;\n  };\n\n  const dispatch = useDispatch(); //check login status\n\n  const cookie = getCookie(token);\n  const memoizedResult = React.useMemo(() => {\n    if (!cookie) {\n      dispatch({\n        type: 'SIGN_OUT'\n      });\n      console.log('here');\n    }\n  }, [cookie]); //paystack hook\n\n  const initializePayment = usePaystackPayment({\n    reference: new Date().getTime().toString(),\n    email: 'user@example.com',\n    amount: totalPrice,\n    publicKey: 'pk_test_9667838c0fa5f162be811a2e81b1ec5a9394ee74'\n  }); //onSuccess Clone\n\n  const onSuccessWrapper = reference => {\n    onSuccess(reference);\n  }; // you can call this function anything\n\n\n  const onSuccess = async reference => {\n    const order = {\n      orderItems: reorderProduct([...products]),\n      deliveryAddress: {\n        address: values.address,\n        city: values.city,\n        postalCode: values.postalCode\n      },\n      paymentMethod: values.paymentMethod,\n      paymentResult: {\n        id: reference.reference,\n        status: reference.status\n      },\n      deliveryPrice: values.deliveryMethod === 'paid' ? 1000 : 0,\n      totalPrice: values.deliveryMethod === 'paid' ? totalPrice + 1000 : totalPrice\n    };\n    await dispatch(processOrder(order));\n\n    if (window.store.getState().orderReducer.status === true) {\n      await setAlertContent({\n        type: 'success',\n        content: window.store.getState().orderReducer.message\n      });\n      handleClick();\n    } else {\n      await setAlertContent({\n        type: 'error',\n        content: window.store.getState().orderReducer.message\n      });\n      handleClick();\n    }\n\n    setTimeout(() => {\n      dispatch({\n        type: 'EMPTY_ORDER'\n      });\n      dispatch({\n        type: 'EMPTY_CART'\n      });\n    }, 3000);\n  }; // you can call this function anything\n\n\n  const onClose = () => {// implementation for  whatever you want to do when the Paystack dialog closed.\n  };\n\n  const [customer_detail, set_Customer_detail] = useState({\n    firstName: '',\n    lastName: '',\n    address: '',\n    country: '',\n    city: '',\n    phone: '',\n    state: ''\n  });\n  useEffect(() => {\n    customer_details = set_Customer_detail;\n  }, []);\n\n  if (totalQuantities === 0) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/allmeals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: checkout,\n    children: [authenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: checkout_left,\n      children: /*#__PURE__*/_jsxDEV(FormikStepper, {\n        initialValues: {\n          firstName: user.firstName,\n          lastName: user.lastName,\n          address: '',\n          postalCode: '',\n          city: '',\n          phone: '',\n          state: '',\n          deliveryMethod: '',\n          paymentMethod: ''\n        },\n        onSubmit: async formvalues => {\n          await sleep(3000);\n          const cookie = getCookie(token);\n\n          if (!cookie) {\n            await setAlertContent({\n              type: 'error',\n              content: 'session expired'\n            });\n            handleClick();\n            dispatch({\n              type: 'SIGN_OUT'\n            });\n            return;\n          }\n\n          values = formvalues;\n          initializePayment(onSuccessWrapper, onClose);\n        },\n        children: [/*#__PURE__*/_jsxDEV(FormikStep, {\n          validationSchema: Yup.object().shape({\n            firstName: Yup.string().required('First Name is Required'),\n            lastName: Yup.string().required('Last Name is Required'),\n            address: Yup.string().required('Address is Required'),\n            //  postalCode: Yup.string().required('postalCode is Required'),\n            city: Yup.string().required('city is Required'),\n            postalCode: Yup.number().integer().typeError('Please enter a valid postal number').required('Postal code is Required'),\n            phone: Yup.number().integer().typeError('Please enter a valid phone number').required('Phone is Required'),\n            state: Yup.string().required('state is required')\n          }),\n          label: \"Customer\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              xs: 12,\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: customer_info,\n                children: \"Customer Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Textfield, {\n                disabled: !!user.firstName,\n                name: \"firstName\",\n                helpertext: \"First Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Textfield, {\n                disabled: !!user.lastName,\n                name: \"lastName\",\n                helpertext: \"Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Textfield, {\n                name: \"address\",\n                helpertext: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(SelectWrapper, {\n                name: \"state\",\n                helpertext: \"State\",\n                options: stateData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Textfield, {\n                name: \"city\",\n                helpertext: \"City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Textfield, {\n                name: \"postalCode\",\n                helpertext: \"Postal code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Textfield, {\n                name: \"phone\",\n                helpertext: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormikStep, {\n          validationSchema: Yup.object().shape({\n            deliveryMethod: Yup.string().required('You must select a delivery method')\n          }),\n          label: \"Shipping\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              xs: 12,\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: customer_info,\n                children: \"Shipping Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              xs: 12,\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                width: \"max-content\",\n                padding: \"16px\",\n                border: \"1px solid #C4C4C4\",\n                borderRadius: \"10px\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  className: adress_box_details,\n                  children: [customer_detail.firstName, \" \", customer_detail.lastName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  className: adress_box_details,\n                  children: customer_detail.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  className: adress_box_details,\n                  children: customer_detail.city\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  className: adress_box_details,\n                  children: customer_detail.state\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  className: adress_box_details,\n                  children: [\"Tel: \", customer_detail.phone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  onClick: () => goBack(s => s - 1),\n                  className: edit_address,\n                  color: \"secondary\",\n                  children: \"edit address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              xs: 12,\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                marginTop: \"20px\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: customer_info,\n                  children: \"Shipping Method\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              xs: 12,\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(RadioWrapper, {\n                name: \"deliveryMethod\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormikStep, {\n          validationSchema: Yup.object().shape({\n            paymentMethod: Yup.string().required('You must select a payment method')\n          }),\n          label: \"Payment\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              xs: 12,\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: customer_info,\n                children: \"Payment Selection\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              xs: 12,\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Paymentmethod, {\n                name: \"paymentMethod\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: checkout_left,\n      children: /*#__PURE__*/_jsxDEV(NotFound, {\n        path: \"/login\",\n        text: \"Login\",\n        animationData: use_avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: checkout_right,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: shopping_cart_heading,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: totalQuantities\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this), products.map((item, index) => /*#__PURE__*/_jsxDEV(Cartcheckout, { ...item\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: submitbutton_section,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            className: Sub_total,\n            children: \"Sub Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            className: Sub_total_value,\n            children: [\"#\", totalPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            className: amount_payable,\n            children: \"Amount Payable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            className: amount_payable_value,\n            children: [\"#\", totalPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          className: note,\n          children: \"Note: Min. Order : #2000.00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      alertContent: alertContent,\n      open: open,\n      handleClose: handleClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Checkout, \"y73CugcW7g58l4AcoUsqk3QZ2dg=\", false, function () {\n  return [useStyles, useSelector, useSelector, useDispatch, usePaystackPayment];\n});\n\n_c = Checkout;\nexport function FormikStep({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n}\n_c2 = FormikStep;\nexport function FormikStepper({\n  children,\n  ...props\n}) {\n  _s2();\n\n  const {\n    backsection,\n    controls\n  } = useStyles();\n  let history = useNavigate();\n  const [step, setStep] = useState(0);\n  const childrenArray = React.Children.toArray(children);\n  const currentChild = childrenArray[step];\n  const [completed, setCompleted] = useState(false);\n  useEffect(() => {\n    goBack = setStep;\n  }, []);\n\n  function isLastStep() {\n    return step === childrenArray.length - 1;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Formik, { ...props,\n    validationSchema: currentChild.props.validationSchema,\n    onSubmit: async (values, helpers) => {\n      if (isLastStep()) {\n        await props.onSubmit(values, helpers);\n        setCompleted(true);\n      } else {\n        if (step === 0) {\n          customer_details({ ...values\n          });\n        }\n\n        setStep(s => s + 1);\n        helpers.setTouched({});\n      }\n    },\n    children: ({\n      isSubmitting\n    }) => /*#__PURE__*/_jsxDEV(Form, {\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(ThemeProvider, {\n        theme: muiTheme,\n        children: /*#__PURE__*/_jsxDEV(Stepper, {\n          color: \"secondary\",\n          activeStep: step,\n          children: childrenArray.map((child, index) => /*#__PURE__*/_jsxDEV(Step, {\n            color: \"secondary\",\n            completed: step > index || completed,\n            children: /*#__PURE__*/_jsxDEV(StepLabel, {\n              children: child.props.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 19\n            }, this)\n          }, child.props.label, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 11\n      }, this), currentChild, /*#__PURE__*/_jsxDEV(Grid, {\n        className: controls,\n        container: true,\n        spacing: 2,\n        children: [step === 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n          className: backsection,\n          onClick: () => history('/allmeals'),\n          item: true,\n          children: [/*#__PURE__*/_jsxDEV(BsArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Order page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 15\n        }, this) : null, step === 1 ? /*#__PURE__*/_jsxDEV(Grid, {\n          className: backsection,\n          onClick: () => setStep(s => s - 1),\n          item: true,\n          children: [/*#__PURE__*/_jsxDEV(BsArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Customer Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 15\n        }, this) : null, step === 2 ? /*#__PURE__*/_jsxDEV(Grid, {\n          className: backsection,\n          onClick: isSubmitting ? null : () => setStep(s => s - 1),\n          item: true,\n          children: [/*#__PURE__*/_jsxDEV(BsArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Shipping Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 15\n        }, this) : null, step === 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: isSubmitting,\n            variant: \"contained\",\n            color: \"secondary\",\n            disableElevation: true,\n            type: \"submit\",\n            children: \"Continue to shipping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 15\n        }, this) : null, step === 1 ? /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: isSubmitting,\n            variant: \"contained\",\n            color: \"secondary\",\n            disableElevation: true,\n            type: \"submit\",\n            children: \"Continue to Billing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 15\n        }, this) : null, step === 2 ? /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            startIcon: isSubmitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: \"1rem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 36\n            }, this) : null,\n            disabled: isSubmitting,\n            variant: \"contained\",\n            color: \"secondary\",\n            disableElevation: true,\n            type: \"submit\",\n            children: isSubmitting ? 'Submitting' : isLastStep() ? 'Complete Order' : 'Next'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 15\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 561,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(FormikStepper, \"slGYuYDBIOHlB8vTIkaxho7tij0=\", false, function () {\n  return [useStyles, useNavigate];\n});\n\n_c3 = FormikStepper;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Checkout\");\n$RefreshReg$(_c2, \"FormikStep\");\n$RefreshReg$(_c3, \"FormikStepper\");","map":{"version":3,"sources":["D:/Study/SEM_07/Final Year Project/Project/shramik/src/pages/Checkout.js"],"names":["React","useState","useEffect","useNavigate","Navigate","useSelector","useDispatch","usePaystackPayment","makeStyles","Stepper","StepLabel","Step","Button","Typography","Grid","Box","createTheme","ThemeProvider","CircularProgress","Formik","Form","BsArrowLeft","Yup","Textfield","SelectWrapper","stateData","RadioWrapper","Paymentmethod","Cartcheckout","processOrder","Snackbar","NotFound","use_avatar","getCookie","values","useStyles","theme","checkout","width","display","paddingTop","flexDirection","button","marginRight","spacing","checkout_left","flex","paddingLeft","padding","checkout_right","customer_info","fontWeight","fontSize","fontFamily","marginBottom","shopping_cart_heading","justifyContent","paddingRight","marginTop","alignItems","height","borderRadius","background","color","adress_box_details","backsection","cursor","marginLeft","controls","edit_address","submitbutton_section","margin","Sub_total","palette","lightdark3","Sub_total_value","amount_payable","amount_payable_value","note","goBack","customer_details","muiTheme","overrides","MuiStepIcon","root","sleep","time","Promise","acc","setTimeout","Checkout","products","totalQuantities","totalPrice","state","cartReducer","user","authenticated","token","authReducer","alertContent","setAlertContent","type","content","open","setOpen","handleClick","handleClose","event","reason","reorderProduct","newH","map","item","push","title","quantity","image_path","product","_id","category","dispatch","cookie","memoizedResult","useMemo","console","log","initializePayment","reference","Date","getTime","toString","email","amount","publicKey","onSuccessWrapper","onSuccess","order","orderItems","deliveryAddress","address","city","postalCode","paymentMethod","paymentResult","id","status","deliveryPrice","deliveryMethod","window","store","getState","orderReducer","message","onClose","customer_detail","set_Customer_detail","firstName","lastName","country","phone","formvalues","object","shape","string","required","number","integer","typeError","s","index","FormikStep","children","FormikStepper","props","history","step","setStep","childrenArray","Children","toArray","currentChild","completed","setCompleted","isLastStep","length","validationSchema","helpers","onSubmit","setTouched","isSubmitting","child","label"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Navigate } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { usePaystackPayment } from 'react-paystack';\r\nimport {\r\n  makeStyles,\r\n  Stepper,\r\n  StepLabel,\r\n  Step,\r\n  Button,\r\n  Typography,\r\n  Grid,\r\n  Box,\r\n  createTheme,\r\n  ThemeProvider,\r\n  CircularProgress,\r\n} from '@material-ui/core';\r\nimport { Formik, Form } from 'formik';\r\nimport { BsArrowLeft } from 'react-icons/bs';\r\nimport * as Yup from 'yup';\r\n\r\nimport Textfield from '../components/partials/FormUI/Textfield';\r\nimport SelectWrapper from '../components/partials/FormUI/SelectWrapper';\r\nimport stateData from '../utils/stateData.json';\r\nimport RadioWrapper from '../components/partials/FormUI/RadioWrapper';\r\nimport Paymentmethod from '../components/partials/FormUI/Paymentmethod';\r\nimport Cartcheckout from '../components/reusables/Cartcheckout';\r\nimport { processOrder } from '../store/actions/orderActions';\r\nimport Snackbar from '../components/reusables/Snackbar';\r\nimport NotFound from './NotFound';\r\nimport use_avatar from '../utils/use_avatar.json';\r\nimport getCookie from '../helpers/getCookie';\r\n\r\nlet values = null;\r\n\r\n//material ui style\r\nconst useStyles = makeStyles((theme) => ({\r\n  checkout: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    paddingTop: '35px',\r\n    '@media (max-width: 600px)': {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  checkout_left: {\r\n    flex: '0.7',\r\n    paddingLeft: '120px',\r\n    '@media (max-width: 900px)': {\r\n      padding: '0 10px',\r\n    },\r\n  },\r\n  checkout_right: {\r\n    flex: '0.3',\r\n  },\r\n  customer_info: {\r\n    fontWeight: '600',\r\n    fontSize: '1.2rem',\r\n    fontFamily: 'mulish',\r\n    marginBottom: '20px',\r\n  },\r\n  shopping_cart_heading: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    paddingRight: '50px',\r\n    paddingLeft: '25px',\r\n    marginBottom: '15px',\r\n    marginTop: '20px',\r\n    '& > :nth-child(1)': {\r\n      fontWeight: '600',\r\n      fontSize: '1.2rem',\r\n      fontFamily: 'mulish',\r\n    },\r\n    '& > :nth-child(2)': {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      height: '24px',\r\n      width: '24px',\r\n      borderRadius: '50%',\r\n      background: '#0077E2',\r\n      color: 'white',\r\n    },\r\n  },\r\n  adress_box_details: {\r\n    fontSize: '0.9rem',\r\n    marginTop: '3px',\r\n  },\r\n  backsection: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    cursor: 'pointer',\r\n\r\n    '& :nth-child(1)': {\r\n      fontSize: '1rem',\r\n    },\r\n    '& :nth-child(2)': {\r\n      fontSize: '.9rem',\r\n      marginLeft: '10px',\r\n    },\r\n  },\r\n  controls: {\r\n    marginTop: '60px',\r\n    marginBottom: '30px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  edit_address: {\r\n    cursor: 'pointer',\r\n    fontSize: '0.9rem',\r\n    fontWeight: '600',\r\n  },\r\n  submitbutton_section: {\r\n    margin: '40px 0',\r\n    padding: '0 25px',\r\n\r\n    '& :nth-child(1)': {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n    },\r\n    '& > :nth-child(2)': {\r\n      height: '1px',\r\n      margin: '10px 0',\r\n    },\r\n    '& :nth-child(3)': {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n    },\r\n  },\r\n  Sub_total: {\r\n    color: theme.palette.lightdark3,\r\n    fontSize: '.9rem',\r\n  },\r\n  Sub_total_value: {\r\n    color: theme.palette.lightdark3,\r\n    fontSize: '.9rem',\r\n  },\r\n  amount_payable: {\r\n    fontSize: '.9rem',\r\n    fontWeight: '600',\r\n  },\r\n  amount_payable_value: {\r\n    fontSize: '.9rem',\r\n    fontWeight: '600',\r\n  },\r\n  note: {\r\n    fontSize: '0.9rem',\r\n    marginTop: '10px',\r\n  },\r\n}));\r\n\r\n//To control shipping go back button\r\nlet goBack;\r\n//show Customer Details\r\nlet customer_details;\r\n\r\nconst muiTheme = createTheme({\r\n  overrides: {\r\n    MuiStepIcon: {\r\n      root: {\r\n        '&$completed': {\r\n          color: '#0077E2',\r\n        },\r\n        '&$active': {\r\n          color: '#0077E2',\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst sleep = (time) => new Promise((acc) => setTimeout(acc, time));\r\n\r\nexport default function Checkout() {\r\n  const {\r\n    edit_address,\r\n    checkout,\r\n    checkout_left,\r\n    checkout_right,\r\n    shopping_cart_heading,\r\n    customer_info,\r\n    adress_box_details,\r\n    submitbutton_section,\r\n    Sub_total,\r\n    Sub_total_value,\r\n    amount_payable,\r\n    amount_payable_value,\r\n    note,\r\n  } = useStyles();\r\n\r\n  const { products, totalQuantities, totalPrice } = useSelector(\r\n    (state) => state.cartReducer\r\n  );\r\n  const { user, authenticated, token } = useSelector(\r\n    (state) => state.authReducer\r\n  );\r\n\r\n  const [alertContent, setAlertContent] = React.useState({\r\n    type: 'error',\r\n    content: '',\r\n  });\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  //reorder cart peoduct arrays\r\n  const reorderProduct = (products) => {\r\n    let newH = [];\r\n    products.map((item) => {\r\n      newH.push({\r\n        title: item.title,\r\n        quantity: item.quantity,\r\n        image_path: item.image_path,\r\n        totalPrice: item.totalPrice,\r\n        product: item._id,\r\n        category: item.category,\r\n      });\r\n    });\r\n    return newH;\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //check login status\r\n  const cookie = getCookie(token);\r\n\r\n  const memoizedResult = React.useMemo(() => {\r\n    if (!cookie) {\r\n      dispatch({ type: 'SIGN_OUT' });\r\n      console.log('here');\r\n    }\r\n  }, [cookie]);\r\n\r\n  //paystack hook\r\n  const initializePayment = usePaystackPayment({\r\n    reference: new Date().getTime().toString(),\r\n    email: 'user@example.com',\r\n    amount: totalPrice,\r\n    publicKey: 'pk_test_9667838c0fa5f162be811a2e81b1ec5a9394ee74',\r\n  });\r\n\r\n  //onSuccess Clone\r\n  const onSuccessWrapper = (reference) => {\r\n    onSuccess(reference);\r\n  };\r\n\r\n  // you can call this function anything\r\n  const onSuccess = async (reference) => {\r\n    const order = {\r\n      orderItems: reorderProduct([...products]),\r\n      deliveryAddress: {\r\n        address: values.address,\r\n        city: values.city,\r\n        postalCode: values.postalCode,\r\n      },\r\n      paymentMethod: values.paymentMethod,\r\n      paymentResult: {\r\n        id: reference.reference,\r\n        status: reference.status,\r\n      },\r\n      deliveryPrice: values.deliveryMethod === 'paid' ? 1000 : 0,\r\n      totalPrice:\r\n        values.deliveryMethod === 'paid' ? totalPrice + 1000 : totalPrice,\r\n    };\r\n\r\n    await dispatch(processOrder(order));\r\n\r\n    if (window.store.getState().orderReducer.status === true) {\r\n      await setAlertContent({\r\n        type: 'success',\r\n        content: window.store.getState().orderReducer.message,\r\n      });\r\n      handleClick();\r\n    } else {\r\n      await setAlertContent({\r\n        type: 'error',\r\n        content: window.store.getState().orderReducer.message,\r\n      });\r\n      handleClick();\r\n    }\r\n    setTimeout(() => {\r\n      dispatch({ type: 'EMPTY_ORDER' });\r\n      dispatch({ type: 'EMPTY_CART' });\r\n    }, 3000);\r\n  };\r\n\r\n  // you can call this function anything\r\n  const onClose = () => {\r\n    // implementation for  whatever you want to do when the Paystack dialog closed.\r\n  };\r\n\r\n  const [customer_detail, set_Customer_detail] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    address: '',\r\n    country: '',\r\n    city: '',\r\n    phone: '',\r\n    state: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    customer_details = set_Customer_detail;\r\n  }, []);\r\n\r\n  if (totalQuantities === 0) {\r\n    return <Navigate to=\"/allmeals\" />;\r\n  }\r\n\r\n  return (\r\n    <div className={checkout}>\r\n      {authenticated ? (\r\n        <div className={checkout_left}>\r\n          <FormikStepper\r\n            initialValues={{\r\n              firstName: user.firstName,\r\n              lastName: user.lastName,\r\n              address: '',\r\n              postalCode: '',\r\n              city: '',\r\n              phone: '',\r\n              state: '',\r\n              deliveryMethod: '',\r\n              paymentMethod: '',\r\n            }}\r\n            onSubmit={async (formvalues) => {\r\n              await sleep(3000);\r\n\r\n              const cookie = getCookie(token);\r\n              if (!cookie) {\r\n                await setAlertContent({\r\n                  type: 'error',\r\n                  content: 'session expired',\r\n                });\r\n                handleClick();\r\n                dispatch({ type: 'SIGN_OUT' });\r\n                return;\r\n              }\r\n\r\n              values = formvalues;\r\n              initializePayment(onSuccessWrapper, onClose);\r\n            }}\r\n          >\r\n            <FormikStep\r\n              validationSchema={Yup.object().shape({\r\n                firstName: Yup.string().required('First Name is Required'),\r\n                lastName: Yup.string().required('Last Name is Required'),\r\n                address: Yup.string().required('Address is Required'),\r\n                //  postalCode: Yup.string().required('postalCode is Required'),\r\n                city: Yup.string().required('city is Required'),\r\n                postalCode: Yup.number()\r\n                  .integer()\r\n                  .typeError('Please enter a valid postal number')\r\n                  .required('Postal code is Required'),\r\n                phone: Yup.number()\r\n                  .integer()\r\n                  .typeError('Please enter a valid phone number')\r\n                  .required('Phone is Required'),\r\n                state: Yup.string().required('state is required'),\r\n              })}\r\n              label=\"Customer\"\r\n            >\r\n              <Grid container spacing={2}>\r\n                <Grid xs={12} item>\r\n                  <Typography className={customer_info}>\r\n                    Customer Information\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <Textfield\r\n                    disabled={!!user.firstName}\r\n                    name=\"firstName\"\r\n                    helpertext=\"First Name\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <Textfield\r\n                    disabled={!!user.lastName}\r\n                    name=\"lastName\"\r\n                    helpertext=\"Last Name\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Textfield name=\"address\" helpertext=\"Address\" />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <SelectWrapper\r\n                    name=\"state\"\r\n                    helpertext=\"State\"\r\n                    options={stateData}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <Textfield name=\"city\" helpertext=\"City\" />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <Textfield name=\"postalCode\" helpertext=\"Postal code\" />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <Textfield name=\"phone\" helpertext=\"Phone\" />\r\n                </Grid>\r\n              </Grid>\r\n            </FormikStep>\r\n            <FormikStep\r\n              validationSchema={Yup.object().shape({\r\n                deliveryMethod: Yup.string().required(\r\n                  'You must select a delivery method'\r\n                ),\r\n              })}\r\n              label=\"Shipping\"\r\n            >\r\n              <Grid container>\r\n                <Grid xs={12} item>\r\n                  <Typography className={customer_info}>\r\n                    Shipping Information\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                  <Box\r\n                    width=\"max-content\"\r\n                    padding=\"16px\"\r\n                    border=\"1px solid #C4C4C4\"\r\n                    borderRadius=\"10px\"\r\n                  >\r\n                    <Typography className={adress_box_details}>\r\n                      {customer_detail.firstName} {customer_detail.lastName}\r\n                    </Typography>\r\n                    <Typography className={adress_box_details}>\r\n                      {customer_detail.address}\r\n                    </Typography>\r\n                    <Typography className={adress_box_details}>\r\n                      {customer_detail.city}\r\n                    </Typography>\r\n                    <Typography className={adress_box_details}>\r\n                      {customer_detail.state}\r\n                    </Typography>\r\n                    <Typography className={adress_box_details}>\r\n                      Tel: {customer_detail.phone}\r\n                    </Typography>\r\n                    <Typography\r\n                      onClick={() => goBack((s) => s - 1)}\r\n                      className={edit_address}\r\n                      color=\"secondary\"\r\n                    >\r\n                      edit address\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                  <Box marginTop=\"20px\">\r\n                    <Typography className={customer_info}>\r\n                      Shipping Method\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                  <RadioWrapper name=\"deliveryMethod\" />\r\n                </Grid>\r\n              </Grid>\r\n            </FormikStep>\r\n            <FormikStep\r\n              validationSchema={Yup.object().shape({\r\n                paymentMethod: Yup.string().required(\r\n                  'You must select a payment method'\r\n                ),\r\n              })}\r\n              label=\"Payment\"\r\n            >\r\n              <Grid container>\r\n                <Grid xs={12} item>\r\n                  <Typography className={customer_info}>\r\n                    Payment Selection\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                  <Paymentmethod name=\"paymentMethod\" />\r\n                </Grid>\r\n              </Grid>\r\n            </FormikStep>\r\n          </FormikStepper>\r\n        </div>\r\n      ) : (\r\n        <div className={checkout_left}>\r\n          <NotFound path=\"/login\" text=\"Login\" animationData={use_avatar} />\r\n        </div>\r\n      )}\r\n\r\n      <div className={checkout_right}>\r\n        <div className={shopping_cart_heading}>\r\n          <Typography>Shopping Cart</Typography>\r\n          <div>\r\n            <Typography>{totalQuantities}</Typography>\r\n          </div>\r\n        </div>\r\n        {products.map((item, index) => (\r\n          <Cartcheckout key={index} {...item} />\r\n        ))}\r\n\r\n        <div className={submitbutton_section}>\r\n          <div>\r\n            <Typography className={Sub_total}>Sub Total</Typography>\r\n            <Typography className={Sub_total_value}>#{totalPrice}</Typography>\r\n          </div>\r\n          <hr />\r\n          <div>\r\n            <Typography className={amount_payable}>Amount Payable</Typography>\r\n            <Typography className={amount_payable_value}>\r\n              #{totalPrice}\r\n            </Typography>\r\n          </div>\r\n\r\n          <Typography className={note}>Note: Min. Order : #2000.00</Typography>\r\n        </div>\r\n      </div>\r\n\r\n      <Snackbar\r\n        alertContent={alertContent}\r\n        open={open}\r\n        handleClose={handleClose}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function FormikStep({ children }) {\r\n  return <>{children}</>;\r\n}\r\n\r\nexport function FormikStepper({ children, ...props }) {\r\n  const { backsection, controls } = useStyles();\r\n  let history = useNavigate();\r\n  const [step, setStep] = useState(0);\r\n  const childrenArray = React.Children.toArray(children);\r\n  const currentChild = childrenArray[step];\r\n  const [completed, setCompleted] = useState(false);\r\n  useEffect(() => {\r\n    goBack = setStep;\r\n  }, []);\r\n\r\n  function isLastStep() {\r\n    return step === childrenArray.length - 1;\r\n  }\r\n\r\n  return (\r\n    <Formik\r\n      {...props}\r\n      validationSchema={currentChild.props.validationSchema}\r\n      onSubmit={async (values, helpers) => {\r\n        if (isLastStep()) {\r\n          await props.onSubmit(values, helpers);\r\n          setCompleted(true);\r\n        } else {\r\n          if (step === 0) {\r\n            customer_details({ ...values });\r\n          }\r\n          setStep((s) => s + 1);\r\n\r\n          helpers.setTouched({});\r\n        }\r\n      }}\r\n    >\r\n      {({ isSubmitting }) => (\r\n        <Form autoComplete=\"off\">\r\n          <ThemeProvider theme={muiTheme}>\r\n            <Stepper color=\"secondary\" activeStep={step}>\r\n              {childrenArray.map((child, index) => (\r\n                <Step\r\n                  color=\"secondary\"\r\n                  key={child.props.label}\r\n                  completed={step > index || completed}\r\n                >\r\n                  <StepLabel>{child.props.label}</StepLabel>\r\n                </Step>\r\n              ))}\r\n            </Stepper>\r\n          </ThemeProvider>\r\n\r\n          {currentChild}\r\n\r\n          <Grid className={controls} container spacing={2}>\r\n            {step === 0 ? (\r\n              <Grid\r\n                className={backsection}\r\n                onClick={() => history('/allmeals')}\r\n                item\r\n              >\r\n                <BsArrowLeft />\r\n                <Typography>Order page</Typography>\r\n              </Grid>\r\n            ) : null}\r\n            {step === 1 ? (\r\n              <Grid\r\n                className={backsection}\r\n                onClick={() => setStep((s) => s - 1)}\r\n                item\r\n              >\r\n                <BsArrowLeft />\r\n                <Typography>Customer Info</Typography>\r\n              </Grid>\r\n            ) : null}\r\n            {step === 2 ? (\r\n              <Grid\r\n                className={backsection}\r\n                onClick={isSubmitting ? null : () => setStep((s) => s - 1)}\r\n                item\r\n              >\r\n                <BsArrowLeft />\r\n                <Typography>Shipping Info</Typography>\r\n              </Grid>\r\n            ) : null}\r\n            {/* section */}\r\n            {step === 0 ? (\r\n              <Grid item>\r\n                <Button\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  disableElevation\r\n                  type=\"submit\"\r\n                >\r\n                  Continue to shipping\r\n                </Button>\r\n              </Grid>\r\n            ) : null}\r\n            {step === 1 ? (\r\n              <Grid item>\r\n                <Button\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  disableElevation\r\n                  type=\"submit\"\r\n                >\r\n                  Continue to Billing\r\n                </Button>\r\n              </Grid>\r\n            ) : null}\r\n            {step === 2 ? (\r\n              <Grid item>\r\n                <Button\r\n                  startIcon={\r\n                    isSubmitting ? <CircularProgress size=\"1rem\" /> : null\r\n                  }\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  disableElevation\r\n                  type=\"submit\"\r\n                >\r\n                  {isSubmitting\r\n                    ? 'Submitting'\r\n                    : isLastStep()\r\n                    ? 'Complete Order'\r\n                    : 'Next'}\r\n                </Button>\r\n              </Grid>\r\n            ) : null}\r\n          </Grid>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}